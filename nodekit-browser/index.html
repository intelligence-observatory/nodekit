<!-- example.html -->
<!doctype html>
<html lang="en">
<head>
    <link rel="icon" href="data:,">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>NodeKit Browser</title>
</head>
<body>
<div id="app"></div>
<script type="module" src="src/main.ts"></script>
<script type="module">
    const nodes = [
        {
            "node_id": "01988636-b4f7-7901-95de-43599d57a440",
            "node_parameters": {
                "board": {"board_width_px": 768, "board_height_px": 768},
                "cards": [
                    {
                        "card_id": "01988636-b4f7-7901-95de-433ee4055620",
                        "card_type": "FixationPointCard",
                        "card_parameters": {},
                        "card_shape": {"width": 0.05, "height": 0.05},
                        "card_location": {"x": -0.5, "y": -0.5},
                        "card_timespan": {"start_time_msec": 0, "end_time_msec": null}
                    }],
                "sensors": [{
                    "sensor_id": "01988636-b4f7-7901-95de-43492b583ae6",
                    "sensor_type": "ClickSensor",
                    "sensor_parameters": {},
                    "sensor_timespan": {"start_time_msec": 0, "end_time_msec": null},
                    "card_id": "01988636-b4f7-7901-95de-433ee4055620"
                },
                    {
                        "sensor_id": "01988636-b4f7-7901-95de-43492b583fff",
                        "sensor_type": "KeyPressSensor",
                        "sensor_parameters": {"keys": ["a"]},
                        "sensor_timespan": {"start_time_msec": 0, "end_time_msec": null},
                    }],
                "reinforcer_maps": [],
                "effects": []
            }
        },
        {
            "node_id": "01988636-b4f7-7901-95de-43850b690ddb",
            "node_parameters": {
                "board": {"board_width_px": 768, "board_height_px": 768},
                "cards": [{
                    "card_id": "01988636-b4f7-7901-95de-436a4430541a",
                    "card_type": "FixationPointCard",
                    "card_parameters": {},
                    "card_shape": {"width": 0.05, "height": 0.05},
                    "card_location": {"x": -0.13, "y": -0.17},
                    "card_timespan": {"start_time_msec": 0, "end_time_msec": null}
                }],
                "sensors": [{
                    "sensor_id": "01988636-b4f7-7901-95de-437647df550c",
                    "sensor_type": "ClickSensor",
                    "sensor_parameters": {},
                    "sensor_timespan": {"start_time_msec": 0, "end_time_msec": null},
                    "card_id": "01988636-b4f7-7901-95de-436a4430541a"
                }],
                "reinforcer_maps": [],
                "effects": []
            }
        },
        {
            "node_id": "01988636-b4f7-7901-95de-43bf5190eaea",
            "node_parameters": {
                "board": {"board_width_px": 768, "board_height_px": 768},
                "cards": [{
                    "card_id": "01988636-b4f7-7901-95de-43965ea757b9",
                    "card_type": "FixationPointCard",
                    "card_parameters": {},
                    "card_shape": {"width": 0.05, "height": 0.05},
                    "card_location": {"x": 0.14, "y": 0.11},
                    "card_timespan": {"start_time_msec": 0, "end_time_msec": null}
                }],
                "sensors": [{
                    "sensor_id": "01988636-b4f7-7901-95de-43a6ec1a041e",
                    "sensor_type": "ClickSensor",
                    "sensor_parameters": {},
                    "sensor_timespan": {"start_time_msec": 0, "end_time_msec": null},
                    "card_id": "01988636-b4f7-7901-95de-43965ea757b9"
                }],
                "reinforcer_maps": [],
                "effects": []
            }
        },
        {
            "node_id": "01988636-b4f7-7901-95de-43e1f2b45f47",
            "node_parameters": {
                "board": {"board_width_px": 768, "board_height_px": 768},
                "cards": [{
                    "card_id": "01988636-b4f7-7901-95de-43ce2d7c4f5b",
                    "card_type": "FixationPointCard",
                    "card_parameters": {},
                    "card_shape": {"width": 0.05, "height": 0.05},
                    "card_location": {"x": 0.24, "y": -0.25},
                    "card_timespan": {"start_time_msec": 0, "end_time_msec": null}
                }],
                "sensors": [{
                    "sensor_id": "01988636-b4f7-7901-95de-43d88e0e545e",
                    "sensor_type": "ClickSensor",
                    "sensor_parameters": {},
                    "sensor_timespan": {"start_time_msec": 0, "end_time_msec": null},
                    "card_id": "01988636-b4f7-7901-95de-43ce2d7c4f5b"
                }],
                "reinforcer_maps": [],
                "effects": []
            }
        },
        {
            "node_id": "01988636-b4f7-7901-95de-4419268a31a5",
            "node_parameters": {
                "board": {"board_width_px": 768, "board_height_px": 768},
                "cards": [{
                    "card_id": "01988636-b4f7-7901-95de-43fbcfa63faf",
                    "card_type": "FixationPointCard",
                    "card_parameters": {},
                    "card_shape": {"width": 0.05, "height": 0.05},
                    "card_location": {"x": -0.05, "y": -0.28},
                    "card_timespan": {"start_time_msec": 0, "end_time_msec": null}
                }],
                "sensors": [{
                    "sensor_id": "01988636-b4f7-7901-95de-440c6c163be9",
                    "sensor_type": "ClickSensor",
                    "sensor_parameters": {},
                    "sensor_timespan": {"start_time_msec": 0, "end_time_msec": null},
                    "card_id": "01988636-b4f7-7901-95de-43fbcfa63faf"
                }],
                "reinforcer_maps": [],
                "effects": []
            }
        }
    ]

    const nodeGraph = {
        nodes: nodes,
        bonus_rules: [],
    }

    import {play} from '/src/main.ts';

    window.focus();

    window.onload = async () => {
        // Add focus
        let events = await play(
            nodeGraph,
            (event) => {
                console.log(event);
            }
        )
        console.log(events)
    };
</script>

</body>
</html>

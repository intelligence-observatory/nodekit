<!-- example.html -->
<!doctype html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>NodeKit Browser</title>
</head>
<body>
<div id="app"></div>
<script type="module" src="src/main.ts"></script>
<script type="module">

    let timeline = {
        "nodes": [
            {
                "node_id": "9bd35e9f-dc5e-4b0d-99d0-5edfdf808665",
                "board": {
                    "board_width_px": 768,
                    "board_height_px": 768,
                    "background_color": "#808080"
                },
                "cards": [
                    {
                        "card_id": "46bf5a4f-d6e6-4b28-becc-420cbad6aa84",
                        "card_type": "TextCard",
                        "x": 0.0,
                        "y": 0.0,
                        "w": 0.8,
                        "h": 0.8,
                        "t_start": 0,
                        "t_end": null,
                        "text": "# Welcome!\n\nThis is a test task.",
                        "font_size": 0.0175,
                        "justification_horizontal": "left",
                        "justification_vertical": "top",
                        "text_color": "#000000",
                        "background_color": "#ffffff"
                    },
                    {
                        "card_id": "7eaa1dca-cf69-4953-8abf-578d1bd2b0ae",
                        "card_type": "TextCard",
                        "x": 0.0,
                        "y": -0.45,
                        "w": 0.3,
                        "h": 0.05,
                        "t_start": 100,
                        "t_end": null,
                        "text": "Continue",
                        "font_size": 0.0175,
                        "justification_horizontal": "center",
                        "justification_vertical": "center",
                        "text_color": "#ffffff",
                        "background_color": "#32a852"
                    }
                ],
                "sensors": [
                    {
                        "sensor_id": "fec8511a-34e3-43e0-9d2e-b4ff4dbb528b",
                        "sensor_type": "ClickSensor",
                        "t_start": 1000,
                        "region": {
                            "region_type": "Rectangle",
                            "x": 0.0,
                            "y": -0.45,
                            "w": 0.3,
                            "h": 0.05
                        }
                    }
                ],
                "outcomes": [],
                "effects": []
            },
            {
                "node_id": "0bf3f62a-1982-49b7-9d64-cab50967d69f",
                "board": {
                    "board_width_px": 768,
                    "board_height_px": 768,
                    "background_color": "#808080"
                },
                "cards": [
                    {
                        "card_id": "d3ecbfa1-e6b0-462e-a9f9-b4fd865f087f",
                        "card_type": "TextCard",
                        "x": 0.0,
                        "y": 0.0,
                        "w": 0.8,
                        "h": 0.8,
                        "t_start": 0,
                        "t_end": null,
                        "text": "## Instructions\n\nBla bla bla.",
                        "font_size": 0.0175,
                        "justification_horizontal": "left",
                        "justification_vertical": "top",
                        "text_color": "#000000",
                        "background_color": "#ffffff"
                    },
                    {
                        "card_id": "b076e9c3-029a-4839-9801-8cf1bb53a5ef",
                        "card_type": "TextCard",
                        "x": 0.0,
                        "y": -0.45,
                        "w": 0.3,
                        "h": 0.05,
                        "t_start": 1000,
                        "t_end": null,
                        "text": "Continue",
                        "font_size": 0.0175,
                        "justification_horizontal": "center",
                        "justification_vertical": "center",
                        "text_color": "#ffffff",
                        "background_color": "#32a852"
                    }
                ],
                "sensors": [
                    {
                        "sensor_id": "02d1fff8-07ca-41fe-b699-5b7a93754305",
                        "sensor_type": "ClickSensor",
                        "t_start": 1000,
                        "region": {
                            "region_type": "Rectangle",
                            "x": 0.0,
                            "y": -0.45,
                            "w": 0.3,
                            "h": 0.05
                        }
                    }
                ],
                "outcomes": [],
                "effects": []
            },
            {
                "node_id": "f692bb98-b52e-46a7-a82c-a01766b56444",
                "board": {
                    "board_width_px": 768,
                    "board_height_px": 768,
                    "background_color": "#808080"
                },
                "cards": [
                    {
                        "card_id": "ab90ec52-aed3-46f8-a321-4614f1fd3c97",
                        "card_type": "VideoCard",
                        "x": 0.0,
                        "y": 0.0,
                        "w": 0.5,
                        "h": 0.5,
                        "t_start": 0,
                        "t_end": null,
                        "video": {
                            "sha256": "3f224a8b6a7917ae1364cf2cc9daf7a5f7073bfe0fb5d9b638d8a6efc1c867f7",
                            "mime_type": "video/mp4"
                        },
                        "muted": true,
                        "loop": false
                    },
                    {
                        "card_id": "77324ab3-788e-48c6-a645-f5318d556829",
                        "card_type": "TextCard",
                        "x": 0.0,
                        "y": -0.4,
                        "w": 0.5,
                        "h": 0.1,
                        "t_start": 0,
                        "t_end": null,
                        "text": "Press space to continue",
                        "font_size": 0.0175,
                        "justification_horizontal": "center",
                        "justification_vertical": "center",
                        "text_color": "#000000",
                        "background_color": "#E6E6E600"
                    }
                ],
                "sensors": [
                    {
                        "sensor_id": "15d5fbd6-cbda-438a-bbf5-6dc12069a900",
                        "sensor_type": "KeySensor",
                        "t_start": 0,
                        "key": " "
                    }
                ],
                "outcomes": [],
                "effects": []
            },
            {
                "node_id": "57ecfb76-6ea0-453e-9eb3-90d00eb1d872",
                "board": {
                    "board_width_px": 768,
                    "board_height_px": 768,
                    "background_color": "#808080"
                },
                "cards": [
                    {
                        "card_id": "d913e37c-f651-40ee-a2f5-d57c8d2a82ce",
                        "card_type": "ImageCard",
                        "x": 0.0,
                        "y": 0.0,
                        "w": 0.5,
                        "h": 0.5,
                        "t_start": 0,
                        "t_end": null,
                        "image": {
                            "sha256": "b87d9ff074668df4e7698280bf6ac0a11c307389eaabec400dd00023462cb416",
                            "mime_type": "image/png"
                        }
                    },
                    {
                        "card_id": "a4146f6b-8e1f-472c-8340-3e0918891eb4",
                        "card_type": "TextCard",
                        "x": 0.0,
                        "y": -0.4,
                        "w": 0.5,
                        "h": 0.1,
                        "t_start": 0,
                        "t_end": null,
                        "text": "Press space to continue",
                        "font_size": 0.0175,
                        "justification_horizontal": "center",
                        "justification_vertical": "center",
                        "text_color": "#000000",
                        "background_color": "#E6E6E600"
                    }
                ],
                "sensors": [
                    {
                        "sensor_id": "4a76702d-922b-483e-b34c-50f7158c11f5",
                        "sensor_type": "KeySensor",
                        "t_start": 0,
                        "key": " "
                    }
                ],
                "outcomes": [],
                "effects": []
            },
        ],
        "nodekit_version": "0.1.0"
    }


    let assetUrls =  [
        {
            'identifier': {
                "sha256": "3f224a8b6a7917ae1364cf2cc9daf7a5f7073bfe0fb5d9b638d8a6efc1c867f7",
                "mime_type": "video/mp4"
            },
            'url': 'static/test-video.mp4',
        },
        {
            'identifier': {
                "sha256": "b87d9ff074668df4e7698280bf6ac0a11c307389eaabec400dd00023462cb416",
                "mime_type": "image/png"
            },
            'url': 'static/lo_poly_animal_BEAR_BLK_label.png',
        }
    ]

    import {play} from '/src/main.ts';

    window.focus();

    window.onload = async () => {
        // Add focus
        let events = await play(
            timeline,
            assetUrls,
            (event) => {
                console.log(event);
            }
        )
        console.log(events)
    };
</script>

</body>
</html>

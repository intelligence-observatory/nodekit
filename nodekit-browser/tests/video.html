<!doctype html>
<html lang="en">
<head>
    <link rel="icon" href="data:,">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Test</title>
</head>
<body>
<script src="../dist/nodekit.js"></script>
<link rel="stylesheet" href="../dist/nodekit.css">
<script>
    const videoIdentifier = {
        mime_type: "video/mp4",
        sha256: "3f224a8b6a7917ae1364cf2cc9daf7a5f7073bfe0fb5d9b638d8a6efc1c867f7",
    };
    const videoUrl = {
        identifier: videoIdentifier,
        url: "../static/test-video.mp4"
    };
    const nodes = [
        {
            node_id: "01988636-b4f7-7901-95de-43599d57a440",
            cards: [{
                card_id: "3b6f3e51-437b-495f-b1bf-9437e8dcdb25",
                card_type: "VideoCard",
                x: 0,
                y: 0,
                w: 0.5,
                h: 0.5,
                t_start: 0,
                t_end: null,
                video_identifier: videoIdentifier,
                muted: true,
                loop: false,
            }],
            sensors: [{
                sensor_id: "01988636-b4f7-7901-95de-43492b583ae6",
                sensor_type: "ClickSensor",
                t_start: 0,
                card_id: "3b6f3e51-437b-495f-b1bf-9437e8dcdb25"
            }],
            outcomes: [],
            effects: []

        }]
    nodeGraph = {
        nodekit_version: "test",
        board: {
            board_width_px: 768,
            board_height_px: 768
        },
        nodes: nodes,
        bonus_rules: [],
    }

    window.focus();

    window.onload = async () => {
       await NodeKit.play(
           nodeGraph,
           [videoUrl],
           (event) => {
                console.log(event);
           }
       );
    };

</script>

</body>
</html>

<!doctype html>
<html lang="en">
<head>
    <link rel="icon" href="data:,">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Test</title>
</head>
<body>
<script src="nodekit.js"></script>
<link rel="stylesheet" href="nodekit.css"></link>
<script>
    const videoIdentifier = {
        mime_type: "video/mp4",
        sha256: "44abfe9cd09734aa445799fb98653f855ea2af0d6d7de0fff1e61a36da358b4e",
    };
    const videoUrl = {
        identifier: videoIdentifier,
        url: "https://ia803409.us.archive.org/18/items/mp4_20210502/mp4.ia.mp4"
    };
    const nodes = [
        {
            node_id: "01988636-b4f7-7901-95de-43599d57a440",
            board: {"board_width_px": 768, "board_height_px": 768},
            cards: [{
                card_id: "3b6f3e51-437b-495f-b1bf-9437e8dcdb25",
                card_type: "VideoCard",
                x: 0,
                y: 0,
                w: 0.5,
                h: 0.5,
                t_start: 0,
                t_end: null,
                video_identifier: videoIdentifier,
                muted: true,
                loop: false,
            }],
            sensors: [{
                sensor_id: "01988636-b4f7-7901-95de-43492b583ae6",
                sensor_type: "ClickSensor",
                t_start: 0,
                card_id: "3b6f3e51-437b-495f-b1bf-9437e8dcdb25"
            }],
            outcomes: [],
            effects: []

        }]
    nodeGraph = {
        nodekit_version: "test",
        nodes: nodes,
        bonus_rules: [],
    }

    window.focus();

    window.onload = async () => {
       await NodeKit.play(
           nodeGraph,
           [videoUrl],
           (event) => {
                console.log(event);
           }
       );
    };

</script>

</body>
</html>
